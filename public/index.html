<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>๐ Hแป Thแปng Chแบฅm Phiแบฟu Trแบฏc Nghiแปm OMR</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>๐</text></svg>">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>๐ Hแป Thแปng Chแบฅm Phiแบฟu Trแบฏc Nghiแปm</h1>
            <p class="subtitle">Hแป trแปฃ 4 mรฃ ฤแป: 101, 102, 103, 104 | Tแปฑ ฤแปng nhแบญn diแปn vร chแบฅm ฤiแปm</p>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Upload Section -->
            <section class="upload-section">
                <div class="card">
                    <h2>๐ค Upload Phiแบฟu Trแบฏc Nghiแปm</h2>
                    
                    <div class="upload-area" id="uploadArea">
                        <input type="file" id="fileInput" accept="image/jpeg,image/jpg,image/png" hidden>
                        <div class="upload-content">
                            <div class="upload-icon">๐ท</div>
                            <p class="upload-text">Kรฉo thแบฃ แบฃnh vรo ฤรขy hoแบทc click ฤแป chแปn file</p>
                            <p class="upload-hint">Chแบฅp nhแบญn: JPG, JPEG, PNG (tแปi ฤa 10MB)</p>
                        </div>
                    </div>

                    <!-- Preview Image -->
                    <div id="imagePreview" class="image-preview" style="display: none;">
                        <img id="previewImg" src="" alt="Preview">
                        <button class="btn-remove" id="btnRemove">โ Xรณa แบฃnh</button>
                    </div>

                    <!-- Custom Answer Key -->
                    <div class="custom-answer-section">
                        <details>
                            <summary>๐ Nhแบญp ฤรกp รกn tรนy chแปnh (tรนy chแปn)</summary>
                            <div class="custom-answer-content">
                                <textarea 
                                    id="customAnswerKey" 
                                    rows="3" 
                                    placeholder="Nhแบญp 35 ฤรกp รกn, cรกch nhau bแปi dแบฅu phแบฉy. Vรญ dแปฅ: A,B,C,D,A,B,C,D,..."
                                ></textarea>
                                <p class="hint">๐ก Nแบฟu khรดng nhแบญp, hแป thแปng sแบฝ tแปฑ ฤแปng chแปn ฤรกp รกn theo mรฃ ฤแป</p>
                            </div>
                        </details>
                    </div>

                    <!-- Process Button -->
                    <button class="btn-primary" id="btnProcess" disabled>
                        ๐ฏ Chแบฅm ฤiแปm
                    </button>

                    <!-- Loading -->
                    <div id="loading" class="loading" style="display: none;">
                        <div class="spinner"></div>
                        <p>ฤang xแปญ lรฝ phiแบฟu trแบฏc nghiแปm...</p>
                    </div>
                </div>
            </section>

            <!-- Results Section -->
            <section class="results-section" id="resultsSection" style="display: none;">
                <div class="card">
                    <h2>โ Kแบฟt Quแบฃ Chแบฅm ฤiแปm</h2>
                    
                    <!-- Images Grid -->
                    <div class="images-grid">
                        <div class="image-card">
                            <h3>๐ท แบขnh Gแปc</h3>
                            <img id="originalImage" src="" alt="Original">
                        </div>
                        <div class="image-card">
                            <h3>โ Kแบฟt Quแบฃ Chแบฅm</h3>
                            <img id="resultImage" src="" alt="Result">
                            <p class="image-caption">
                                <strong>Vรนng:</strong> ๐ต Mรฃ ฤแป | ๐ข C1-C10 | ๐ก C11-C20 | ๐ฃ C21-C30 | ๐ C31-C35<br>
                                <strong>ฤรกp รกn:</strong> ๐ข ฤรบng | ๐ด Sai | ๐ก ฤรกp รกn ฤรบng | ๐ Tรด nhiแปu
                            </p>
                        </div>
                    </div>
                    
                    <!-- Summary Stats -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">๐</div>
                            <div class="stat-content">
                                <div class="stat-label">Mรฃ ฤแป</div>
                                <div class="stat-value" id="statMaDe">-</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">โ</div>
                            <div class="stat-content">
                                <div class="stat-label">Sแป cรขu ฤรบng</div>
                                <div class="stat-value" id="statCorrect">-</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">๐</div>
                            <div class="stat-content">
                                <div class="stat-label">ฤiแปm sแป</div>
                                <div class="stat-value" id="statScore">-</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">๐</div>
                            <div class="stat-content">
                                <div class="stat-label">Xแบฟp loแบกi</div>
                                <div class="stat-value" id="statGrade">-</div>
                            </div>
                        </div>
                    </div>

                    <!-- Progress Bar -->
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                        </div>
                        <div class="progress-text" id="progressText">0%</div>
                    </div>

                    <!-- Warning for multiple marks -->
                    <div id="warningMultiple" class="alert alert-warning" style="display: none;">
                        โ๏ธ <strong>Cแบฃnh bรกo:</strong> Cรณ <span id="multipleCount">0</span> cรขu tรด nhiแปu ฤรกp รกn: <span id="multipleList"></span>
                    </div>

                    <!-- Details Table -->
                    <details open>
                        <summary>๐ Chi tiแบฟt tแปซng cรขu</summary>
                        <div class="details-grid" id="detailsGrid">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </details>

                    <!-- Action Buttons -->
                    <div class="action-buttons">
                        <button class="btn-secondary" id="btnNew">๐ค Chแบฅm phiแบฟu khรกc</button>
                        <button class="btn-secondary" id="btnPrint">๐จ๏ธ In kแบฟt quแบฃ</button>
                    </div>
                </div>
            </section>

            <!-- Error Section -->
            <section class="error-section" id="errorSection" style="display: none;">
                <div class="card error-card">
                    <h2>โ Lแปi</h2>
                    <p id="errorMessage"></p>
                    <button class="btn-secondary" id="btnRetry">๐ Thแปญ lแบกi</button>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <p>๐ก <strong>Hฦฐแปng dแบซn:</strong> Chแปฅp phiแบฟu rรต rรng, gรณc thแบณng (&lt;30ยฐ), รกnh sรกng tแปt. Tรด rรต mรฃ ฤแป vร chแป tรด 1 ฤรกp รกn/cรขu.</p>
                <p class="footer-meta">OMR Sheet Evaluation System v2.0 | Hแป trแปฃ 4 mรฃ ฤแป | ยฉ 2026</p>
            </div>
        </footer>

        <!-- Info Panel -->
        <aside class="info-panel">
            <h3>๐ Thรดng Tin Mรฃ ฤแป</h3>
            <div class="info-content">
                <p><strong>Mรฃ ฤแป 101:</strong> A=9, B=9, C=5, D=12</p>
                <p><strong>Mรฃ ฤแป 102:</strong> A=10, B=9, C=6, D=10</p>
                <p><strong>Mรฃ ฤแป 103:</strong> A=10, B=4, C=12, D=9</p>
                <p><strong>Mรฃ ฤแป 104:</strong> A=11, B=7, C=7, D=10</p>
            </div>
            <div class="info-tips">
                <h4>๐ก Mแบนo Chแปฅp แบขnh Tแปt:</h4>
                <ul>
                    <li>โ Khoแบฃng cรกch 30-40cm</li>
                    <li>โ รnh sรกng tแปซ trรชn xuแปng</li>
                    <li>โ Gรณc thแบณng hoแบทc lแปch &lt;20ยฐ</li>
                    <li>โ Toรn bแป phiแบฟu trong khung</li>
                </ul>
            </div>
        </aside>
    </div>

    <script src="/js/app.js"></script>
</body>
</html>

