# ğŸ¯ Cáº¬P NHáº¬T: Há»† THá»NG Há»– TRá»¢ 4 MÃƒ Äá»€

## âœ¨ TÃ­nh NÄƒng Má»›i

Há»‡ thá»‘ng Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t Ä‘á»ƒ há»— trá»£ **4 mÃ£ Ä‘á»** vá»›i Ä‘Ã¡p Ã¡n riÃªng biá»‡t:

- **MÃ£ Ä‘á» 101** âœ…
- **MÃ£ Ä‘á» 102** âœ…
- **MÃ£ Ä‘á» 103** âœ…
- **MÃ£ Ä‘á» 104** âœ…

---

## ğŸ”„ CÃ¡ch Hoáº¡t Äá»™ng

1. **Há»c sinh tÃ´ mÃ£ Ä‘á»** trÃªn phiáº¿u OMR (3 cá»™t sá»‘ tá»« 0-9)
2. **Há»‡ thá»‘ng tá»± Ä‘á»™ng nháº­n diá»‡n** mÃ£ Ä‘á»
3. **Chá»n Ä‘Ã¡p Ã¡n tÆ°Æ¡ng á»©ng** vá»›i mÃ£ Ä‘á» Ä‘Ã£ nháº­n diá»‡n
4. **Cháº¥m Ä‘iá»ƒm** vÃ  hiá»ƒn thá»‹ káº¿t quáº£

### VÃ­ dá»¥:
- Há»c sinh tÃ´ mÃ£ Ä‘á» **101** â†’ Há»‡ thá»‘ng dÃ¹ng Ä‘Ã¡p Ã¡n mÃ£ Ä‘á» 101
- Há»c sinh tÃ´ mÃ£ Ä‘á» **102** â†’ Há»‡ thá»‘ng dÃ¹ng Ä‘Ã¡p Ã¡n mÃ£ Ä‘á» 102
- KhÃ´ng tÃ´ rÃµ hoáº·c mÃ£ khÃ´ng há»£p lá»‡ â†’ Há»‡ thá»‘ng dÃ¹ng Ä‘Ã¡p Ã¡n máº·c Ä‘á»‹nh (mÃ£ Ä‘á» 101)

---

## ğŸ“ Chi Tiáº¿t ÄÃ¡p Ãn

Xem file [`MA_DE_DAP_AN.md`](MA_DE_DAP_AN.md) Ä‘á»ƒ biáº¿t Ä‘áº§y Ä‘á»§ Ä‘Ã¡p Ã¡n cho cáº£ 4 mÃ£ Ä‘á».

### TÃ³m táº¯t:

#### MÃƒ Äá»€ 101
```
CÃ¢u 1-5:   D, B, C, B, D
CÃ¢u 6-10:  C, B, A, B, D
CÃ¢u 11-15: D, C, B, D, D
...vÃ  20 cÃ¢u cÃ²n láº¡i
```

#### MÃƒ Äá»€ 102
```
CÃ¢u 1-5:   B, D, D, A, D
CÃ¢u 6-10:  D, C, A, A, A
CÃ¢u 11-15: B, A, B, B, C
...vÃ  20 cÃ¢u cÃ²n láº¡i
```

#### MÃƒ Äá»€ 103
```
CÃ¢u 1-5:   C, C, C, C, A
CÃ¢u 6-10:  A, A, C, D, D
CÃ¢u 11-15: A, B, A, D, A
...vÃ  20 cÃ¢u cÃ²n láº¡i
```

#### MÃƒ Äá»€ 104
```
CÃ¢u 1-5:   C, D, D, B, B
CÃ¢u 6-10:  A, A, D, B, C
CÃ¢u 11-15: C, A, D, D, A
...vÃ  20 cÃ¢u cÃ²n láº¡i
```

---

## ğŸ¨ CÃ¡ch Sá»­ Dá»¥ng

### 1. Khá»Ÿi Ä‘á»™ng á»©ng dá»¥ng:
```bash
# CÃ¡ch 1: Cháº¡y trá»±c tiáº¿p
streamlit run main.py

# CÃ¡ch 2: Cháº¡y vá»›i main_fixed.py
streamlit run main_fixed.py

# CÃ¡ch 3: Cháº¡y vá»›i tunnel (truy cáº­p tá»« xa)
python run_with_tunnel.py
```

### 2. Upload áº£nh phiáº¿u:
- Chá»n tab **"ğŸ“ Cháº¥m Äiá»ƒm"**
- Click **"ğŸ“¤ Chá»n áº£nh phiáº¿u tráº¯c nghiá»‡m..."**
- Chá»n áº£nh phiáº¿u OMR Ä‘Ã£ chá»¥p

### 3. Xem káº¿t quáº£:
- Nháº¥n nÃºt **"ğŸ¯ Cháº¥m Äiá»ƒm"**
- Há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng:
  - âœ… Nháº­n diá»‡n mÃ£ Ä‘á»
  - âœ… Chá»n Ä‘Ã¡p Ã¡n phÃ¹ há»£p
  - âœ… Cháº¥m Ä‘iá»ƒm vÃ  hiá»ƒn thá»‹ káº¿t quáº£
  - âœ… Cáº£nh bÃ¡o náº¿u cÃ³ cÃ¢u tÃ´ nhiá»u Ä‘Ã¡p Ã¡n

---

## ğŸ¯ CÃ¡c TÃ­nh NÄƒng KhÃ¡c

### 1. **Debug Mode** (Tab 1)
- Báº­t checkbox **"ğŸ” Hiá»ƒn thá»‹ vÃ¹ng detect"**
- Xem cÃ¡c vÃ¹ng Ä‘Æ°á»£c detect trÃªn phiáº¿u
- GiÃºp kiá»ƒm tra Ä‘á»™ chÃ­nh xÃ¡c cá»§a há»‡ thá»‘ng

### 2. **Webcam Mode** (Tab 2 - chá»‰ trong `main.py`)
- Chá»¥p phiáº¿u trá»±c tiáº¿p tá»« webcam
- Auto detect vÃ  cháº¥m Ä‘iá»ƒm ngay láº­p tá»©c
- ThÃ­ch há»£p cho cháº¥m Ä‘iá»ƒm nhanh

### 3. **Debug VÃ¹ng** (Tab 2/3)
- Äiá»u chá»‰nh tá»a Ä‘á»™ cÃ¡c vÃ¹ng detect
- Preview real-time
- Export code Ä‘á»ƒ Ã¡p dá»¥ng vÃ o `functions.py`

---

## âš ï¸ LÆ°u Ã Quan Trá»ng

### âœ… Äá»ƒ há»‡ thá»‘ng hoáº¡t Ä‘á»™ng tá»‘t:

1. **Cháº¥t lÆ°á»£ng áº£nh:**
   - Chá»¥p rÃµ rÃ ng, khÃ´ng bá»‹ má»
   - Ãnh sÃ¡ng Ä‘á»§, khÃ´ng bá»‹ tá»‘i
   - KhÃ´ng bá»‹ che khuáº¥t hoáº·c nhÃ u nÃ¡t

2. **GÃ³c chá»¥p:**
   - Chá»¥p tháº³ng hoáº·c lá»‡ch khÃ´ng quÃ¡ 20-30Â°
   - ToÃ n bá»™ phiáº¿u pháº£i náº±m trong khung hÃ¬nh
   - 4 gÃ³c phiáº¿u pháº£i rÃµ rÃ ng

3. **CÃ¡ch tÃ´:**
   - TÃ´ rÃµ rÃ ng, Ä‘áº§y Ä‘á»§ Ã´ trÃ²n/vuÃ´ng
   - **Chá»‰ tÃ´ 1 Ä‘Ã¡p Ã¡n** cho má»—i cÃ¢u
   - TÃ´ nhiá»u Ä‘Ã¡p Ã¡n â†’ CÃ¢u Ä‘Ã³ bá»‹ tÃ­nh SAI âŒ
   - TÃ´ mÃ£ Ä‘á» rÃµ rÃ ng vÃ  chÃ­nh xÃ¡c

4. **Phiáº¿u máº«u:**
   - Sá»­ dá»¥ng Ä‘Ãºng phiáº¿u máº«u (35 cÃ¢u, 4 lá»±a chá»n)
   - KhÃ´ng sá»­a chá»¯a, táº©y xÃ³a quÃ¡ nhiá»u

---

## ğŸ› ï¸ CÃ¡c File ÄÃ£ Cáº­p Nháº­t

1. **`functions.py`**
   - Cáº­p nháº­t hÃ m `read_answers()` Ä‘á»ƒ tráº£ vá» cáº£ `multiple_marks`
   - KhÃ´ng thay Ä‘á»•i logic chÃ­nh

2. **`main.py`**
   - ThÃªm 4 bá»™ Ä‘Ã¡p Ã¡n: `101`, `102`, `103`, `104`
   - Cáº­p nháº­t logic chá»n Ä‘Ã¡p Ã¡n theo mÃ£ Ä‘á»
   - Hiá»ƒn thá»‹ cáº£nh bÃ¡o khi cÃ³ cÃ¢u tÃ´ nhiá»u

3. **`main_fixed.py`**
   - Cáº­p nháº­t tÆ°Æ¡ng tá»± `main.py`
   - KhÃ´ng cÃ³ tÃ­nh nÄƒng webcam

4. **`MA_DE_DAP_AN.md`** (Má»›i)
   - Báº£ng Ä‘Ã¡p Ã¡n chi tiáº¿t cho 4 mÃ£ Ä‘á»
   - Dá»… Ä‘á»c, dá»… kiá»ƒm tra

5. **`UPDATE_MA_DE.md`** (File nÃ y)
   - HÆ°á»›ng dáº«n sá»­ dá»¥ng há»‡ thá»‘ng má»›i
   - Giáº£i thÃ­ch cÃ¡c tÃ­nh nÄƒng

---

## ğŸš€ Báº¯t Äáº§u Ngay

```bash
# BÆ°á»›c 1: KÃ­ch hoáº¡t mÃ´i trÆ°á»ng (náº¿u cÃ³)
# Windows:
venv\Scripts\activate
# macOS/Linux:
source venv/bin/activate

# BÆ°á»›c 2: CÃ i Ä‘áº·t dependencies (náº¿u cáº§n)
pip install -r requirements.txt

# BÆ°á»›c 3: Cháº¡y á»©ng dá»¥ng
streamlit run main.py
# Hoáº·c:
streamlit run main_fixed.py
```

---

## ğŸ“ Há»— Trá»£

Náº¿u gáº·p váº¥n Ä‘á»:

1. âœ… Kiá»ƒm tra láº¡i cháº¥t lÆ°á»£ng áº£nh
2. âœ… Äáº£m báº£o tÃ´ Ä‘Ãºng mÃ£ Ä‘á»
3. âœ… Sá»­ dá»¥ng tab Debug Ä‘á»ƒ kiá»ƒm tra vÃ¹ng detect
4. âœ… Thá»­ vá»›i áº£nh máº«u trÆ°á»›c

---

## ğŸ‰ HoÃ n ThÃ nh!

Há»‡ thá»‘ng Ä‘Ã£ sáºµn sÃ ng Ä‘á»ƒ cháº¥m phiáº¿u vá»›i **4 mÃ£ Ä‘á»** khÃ¡c nhau!

**ChÃºc báº¡n sá»­ dá»¥ng hiá»‡u quáº£!** ğŸš€ğŸ“

---

*Cáº­p nháº­t: 04/01/2026*

